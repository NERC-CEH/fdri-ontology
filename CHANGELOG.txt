# CHANGELOG

Ticket numbers referenced in the CHANGELOG refer to issues in the GitHub repository at https://github.com/NERC-CEH/fdri-ontology/issues

DRAFT 0.5
---------

* NEW: Add fdri:EnvironmentalMonitoringActivity to represent activities such as surveys that give rise to environmental datasets. The overall model is desribed in the documentation in the section titled "Environmental Monitoring Activity Model". The key model changes involved are listed below.
  * Add new `fdri:EnvironmenalMonitoringActivity` class to OWL and matching `EnvironmenalMonitoringActivity` record to schema.
  * Add `qualifiedUsage` to `Activity` in the schema to reflect the existing prov:qualifiedUsage property in the OWL ontology.
  * Add `QualifiedUsage` record to the schema to reflect the existing prov:Usage type in the OWL ontology.
  * Add `fdri:initiated` property to `fdri:EnvironmentalMonitoringProgramme` to relate an EnvironmentalMonitoringProgramme to the EnvironmentalMonitoringActivities that are carried out under that programme. 
  * Add `fdri:FacilityUsage` class as a subclass of `prov:Usage` to represent the use of some EnvironmentalMonitoringFacility in some EnvironmenalMonitoringActivity, qualified by the role (fdri:FacilityUsageRole) that the facility played in the activity.
  * Add `fdri:originatingActivity` to relate an `fdri:ObservationDataset` to the `fdri:EnvironmenalMonitoringActivity` that originated the data contained in the dataset.
  * Add `fdri:RelatedPartyAssociation` to represent the association between an `fdri:Agent` and the role that the played in some `prov:Activity`
* NEW: Add FOAF ontology as an import for the FDRI ontology
  * Map fdri:Agent as a subclass of foaf:Agent and prov:Agent
  * Map fdri:Organization as a subclass of prov:Agent, foaf:Organization, and foaf:Group
  * Map fdri:Person as a subclass of foaf:Person
* Add subclasses of fdri:Agent to the recordspec schema
  * Added fdri:Organization, fdri:Person and fdri:SoftwareAgent to the recordspec schema
* Add dct:identifier as a property allowed on fdri:Agent
* NEW: Add types to support gridded datasets
  * Add `fdri:GriddedDataset` for the top level dataset.
  * Add `fdri:GriddedContainer`, `fdri:Array` and `fdri:Dimension` to represent groups, arrays and dimensions with their metadata
  * Use `fdri:contains` with type restrictions to create nesting relations between gridded datasets, groups, arrays and dimensions.
  * Add `fdri:references` to express the relation between Arrays and the dimensions(s) they use.
* NON-BREAKING: Relax the definition of rdfs:label in the recordspec schema to allow both xsd:string and rdf:langString literals (was only rdf:langString).
* NON-BREAKING: Add keyword (dcat:keyword) as an optional property of Dataset in the recordspec schema.
* NEW: Add mbox (`foaf:mbox`) as an allowed property on the `Agent` record type in the recordspec schema.
* NEW: Allow `hasAnnotation` on `GeospatialFeatureOfInterest`.
* NEW: Add `fdri:dependsOn` and `fdri:directDependsOn` to `fdri:TimeSeriesDataset` to allow the direct expression of dependency relationships between time-series datasets.
* NON-BREAKING: Changed the range of `fdri:property` on `fdri:Annotation` from `fdri:Variable` to the super-class `skos:Concept`, to allow any kind of Concept to be used to define an annotation property.
* FIX: Fix typo in the URI of the `deployedHeight` property on the `StaticDeployment` record in the Recordspec model.
* NON-BREAKING: Relax the definition of `fdri:Variable` so that the IAdopt properties `iop:hasProperty` and `iop:hasObjectOfInterest` are optional.
* NEW: Added `foaf:homepage` property to `fdri:EnvironmentalMonitoringProgramme` and `fdri:EnvironmenalMonitoringNetwork`
* NEW: Added `fdri:sourceTimeColumnName` to `fdri:TimeSeriesDataset` to capture the name of the column that holds the timestamp for each observation. 
* BREAKING: Replaced `fdri:reference` with `fdri:referenceList` on `fdri:Array`. This allows for the items in a gridded data array to be assigned an index that indicates the item's index in the storage array of the underlying gridded dataset. 
* BREAKING: Change the range of geo:lat, geo:long, spatialrelations:easting and spatialrelations:northing from string to decimal to enable numeric comparison in SPARQL queries.
* NON-BREAKIMG: Relax definition of `TimeSeriesDataset` to make the `type` property optional in the schema.
* NON-BREAKING: Add optional `fdri:hasStructuredValue` property to `fdri:ConfigurationArgument` to cover the case where the value of an argument is a complex value consisting of a set of key-value pairs. Each key-value pair is represented as a separate fdri:ConfigurationArgument, allowing for further nesting of structured values if needed.
* NON-BREAKING: Extend range of `fdri:uses` from `fdri:TimeSeriesDefinition` only, to `fdri:TimeSeriesDataset` or `fdri:TimeSeriesDefinition`.
* NEW: Add `fdri:rawConfiguration` property to `fdri:TimeSeriesPlan` to record the JSON configuration for the plan.
* NEW: Allow `fdri:methodology` on an `fdri:TimeSeriesDataset` to allow dataset-specific processing plans to be described.
* BREAKING: Refactor `fdri:InternalDataProcessingConfiguration` to be a subclass of `fdri:PropertyValueSeries`. This replaces the `fdri:hadConfiguration` and `fdri:hasCurrentConfiguration` properties with `fdri:hadValue` and `fdri:hasCurrentValue` properties inherited from the new superclass.

DRAFT 0.4.2
-----------

* FIX: Fixed the property URI of RelatedPartyAttribution.agent in the recordspec schema to match the OWL schema.
* FIX: Fixed the class URI of RelatedPartyRole to match the OWL ontology.
* FIX: Correct cardinality of fdri:hasMember

DRAFT 0.4.1
-----------

* NEW: Added new property `fdri:valueType` which can be used on a `schema:PropertyValue` to convey the datatype or class of the value of the property. (#23)
* NEW: Allow property `fdri:valueType` to appear on `fdri:Measure` to convey the expected datatype for observed value of the measure. (#19)
* NEW: Allow property `prov:qualifiedAttribution` with range only `fdri:RelatedPartyAttribution` on `fdri:EnvironmentalMonitoringFacilityType`. This allows the capture of parties related to a category of facilities (e.g. the manufacturer of a type of sensor). (#4)
* NEW: Allow property `skos:altLabel` on `skos:Concept` records in the recordspec schema. (#7)
* NEW: Added new property `fdri:measures` with range `fdri:Measure`. Property is used on `fdri:EnvironmentalMonitoringFacility` to capture the measures that the facility has the capablity to make, or on `fdri:EnvironmentalMonitoringFacilityType` to capture the measures that facilities of that type have the capablity to make. (#5)
* NEW: Allow property `dct:identifier` on the `fdri:EnvironmentalMonitoringFacility` and `fdri:FacilityGroup` in the recordspec schema. (#18)
* NEW: Added new property `fdri:calibrationDue` as an optional property of `fdri:EnvironmentalMonitoringSystem`. (#17)
* NEW: Added property `dcat:keyword` as an optional, repeatable propety of `fdri:EnvironmentalMonitoringSystemType`. (#8)
* NEW: Added properties `fdri:deploymentNote` and `fdri:dependencyNote`. Made `fdri:deploymentVariance` and `fdri:dependencyNote` sub-properties of `fdri:deploymentNote`. The domain of `fdri:deploymentNote` is restricted to `fdri:Deployment`. (#16)
* NEW: Added property `fdri:canopyHeight` as an optional property of `fdri:Deployment`. (#15)
* NEW: Added property `ssn:implements` as an optional repeatable property of `fdri:Deployment` to capture procedures are implemented by the deployment such as sampling regimes. (#10)
* CHANGE: Made `hasProcedure` on `EnvironmentalMonitoringSystemType` repeatable in the recordspec schema to match the OWL definition.
* NEW: Added property `fdri:settleInPeriod` as an optional property of both `fdri:EnvironmentalMonitoringSystemType` and `fdri:Deployment` to capture the settle-in time that should elapse from the deployment start before readinds are considered to be accurate. (#9)
* NEW: Added support for relating an `fdri:Procedure` to the document(s) for that procedure (#26):
  * Add schema:DigitalDocument and schema:MediaObject classes to represent a document and a document download respectively, and add fdri:document property that has schema:DigitalDocument as its range.
* CHANGE: Made fdri:certification a sub-property of fdri:document, this allows the certification document location and format to be specified.
* UPDATE: Updated documentation to describe how sensor error codes can be modelled as an `fdri:SystemCapabaility` (#11)

DRAFT 0.4
---------

* NEW: Added documentation strings to OWL model
* BREAKING: Removed unused types Catchment, Region and MobileDeployment from OWL model. Catchment and Region are replaced by fdri:FacilityGroup.
* NEW: Add fdri:FacilityGroup to be used to capture arbitrary groupings of facilities into e.g. catchments, geographical regions, administrative areas etc.
* NON-BREAKING: Removed sub-class relationship between fdri:SoftwareAgent and prov:SoftwareAgent
* NEW: Add fdri:Measure, fdri:MeasureScheme
* NEW: Add fdri:Unit and fdri:UnitScheme to be used for measures in preference to qudt:Unit
* NEW: Add S3 source properties to fdri:TimeSeriesDataset
* NON-BREAKING: Declare a subclass relationship between skos:Concept and the iAdopt classes iop:Entity, iop:Property and iop:Variable to support managing these terms as controlled vocabularies.
* BREAKING: Remove fdri:Site properties fdri:soilType and fdri:landCover. These are now encoded as annotations
* BREAKING: Remove fdri:hadFault property. Use the inverse fdri:affectsFacility instead.
* NEW: Add provenance properties to fdri:EnvironmentalMonitoringFacility
* NEW: Allow fdri:appliesToTimeSeries property to appear on DataProcessingConfiguration.
* BREAKING: Update recordspec schema to only support fdri:appliesToTimeSeries and not allow fdri:appliesToVariable on a DataProcessingConfiguration (though this is stil supported by the OWL model)
* BREAKING: Remove fdri:DataProcessingActivity and replace with soft-typing via dct:type on Activity. Added ActivityType and ActivityTypeScheme to manage controlled vocabularies of activity type.